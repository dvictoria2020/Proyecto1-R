---
title: "Proyecto 1 R"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Carga de paquetes y de datos

```{r paquetes, warning=FALSE, message=FALSE}
# Paquete para manipulación de datos
library(dplyr)
# Paquete para manejo de datos vectoriales
library(sf)
# Paquetes para manejo de datos raster
library(terra)
# Paquete para manejo de tablas
library(DT)
# Paquetes para graficación
library(ggplot2)
library(plotly)
# Paquete para mapas interactivos
library(leaflet)
```


```{r datos, warning=FALSE, message=FALSE}
# Lectura de una capa vectorial (GeoJSON) de división distrial
limite_distrital <-
  st_read(
    "https://dvictoria2020.github.io/Proyecto1-R/limite_distrital.geojson",
    quiet = TRUE
  )

# Transformación del CRS del objeto división distrital
limite_distrital <-
  limite_distrital %>%
  st_transform(4326)

# Lectura de archivo CSV de patentes comerciales en Santa Ana
Patentes <-
  st_read(
    "/vsicurl/https://dvictoria2020.github.io/Proyecto1-R/Patentes.csv",
    options = c(
      "X_POSSIBLE_NAMES=lat",
      "Y_POSSIBLE_NAMES=long"
    ),
    quiet = TRUE
  )

# Asignación de un CRS al objeto patentes
st_crs(Patentes) <- 4326

```


```{r datos, warning=FALSE, message=FALSE}
# Lectura de una capa vectorial (GeoJSON) de limite distrital de Santa Ana
limite_distrital <-
  st_read(
    "https://dvictoria2020.github.io/Proyecto1-R/limite_distrital.geojson",
    quiet = TRUE
  )
```


```{r tabla-patentes}
PATENTES_ACTIVAS_09_11_2020 %>%
  st_drop_geometry() %>%
  select(N_patente, Nombre_comercio, Actividad, Permiso_salud, Aprobacion, N_finca, Direccion_comercio, Distrito ) %>%
  datatable(felidae, options = list(
    language = list(url = '//cdn.datatables.net/plug-ins/1.10.11/i18n/Spanish.json'),
    pageLenth =5
  ))
```


# Graficos

## Distribución de las actividades comerciales por distrito en Santa Ana 

```{r Grafico }

```
